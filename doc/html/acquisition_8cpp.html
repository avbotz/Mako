<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mako: src/sub_vision/src/acquisition.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mako
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_157f2e1ce8f3c64e81e6856d13ab548a.html">sub_vision</a></li><li class="navelem"><a class="el" href="dir_a61725da356ca9e3c168c9ef8c1b29cd.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">acquisition.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main node runner for acquiring front camera images with Spinnaker.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;ros/ros.h&gt;</code><br />
<code>#include &lt;image_transport/image_transport.h&gt;</code><br />
<code>#include &lt;opencv2/highgui/highgui.hpp&gt;</code><br />
<code>#include &lt;cv_bridge/cv_bridge.h&gt;</code><br />
<code>#include &quot;Spinnaker.h&quot;</code><br />
<code>#include &quot;SpinGenApi/SpinnakerGenApi.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for acquisition.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="acquisition_8cpp__incl.png" border="0" usemap="#src_2sub__vision_2src_2acquisition_8cpp" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1c7e5ecbfffd705265f953ae72b674dd"><td class="memItemLeft" align="right" valign="top"><a id="a1c7e5ecbfffd705265f953ae72b674dd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>acquireImages</b> (CameraPtr down_cam, CameraPtr front_cam, INodeMap &amp;nm1, INodeMap &amp;nm2, INodeMap &amp;nm_device1, INodeMap &amp;nm_device2)</td></tr>
<tr class="separator:a1c7e5ecbfffd705265f953ae72b674dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1152e1cd1af7422ab13bc7a27574c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acquisition_8cpp.html#aed1152e1cd1af7422ab13bc7a27574c9">runCameras</a> (CameraPtr down_cam, CameraPtr front_cam)</td></tr>
<tr class="separator:aed1152e1cd1af7422ab13bc7a27574c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="acquisition_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main node runner for acquiring front camera images with Spinnaker. </p>
<p>The naming conventions behind this code might seem off at first glance, but they are (somewhat) justified. Under conventional logic, it makes sense that the down camera variables are labeled with a 2, since we don't use the down camera each run. However, its serial number is smaller than front cam, so it makes more sense to suffix it with a 1.</p>
<p>Someone should also multithread this code so the down camera is slowed down because of the front camera's low FPS. However, don't forget to release pointers to all of the camera buffers, otherwise they will need to be power cycled.</p>
<dl class="section author"><dt>Author</dt><dd>David Zhang </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The camera serial numbers make this code a bit of a headache. Since the down camera SN is less than the front camera, it shows up first. However, if the down camera isn't connected, which happens often, then the front camera has the lowest SN.</p>

</div>
</div>
<a id="aed1152e1cd1af7422ab13bc7a27574c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed1152e1cd1af7422ab13bc7a27574c9">&#9670;&nbsp;</a></span>runCameras()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void runCameras </td>
          <td>(</td>
          <td class="paramtype">CameraPtr&#160;</td>
          <td class="paramname"><em>down_cam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CameraPtr&#160;</td>
          <td class="paramname"><em>front_cam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>References need to be tied to a variable, so this bad solution exists. The gist is that I tied the down cam references to the front cam, but since acquireImages() should notice that the down cam is set to NULL, it won't interfere with them.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
